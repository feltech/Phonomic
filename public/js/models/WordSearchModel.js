// Generated by CoffeeScript 1.6.3
define(['underscore', 'jquery', 'brite', 'models/WordModel'], function(_, $, brite, WordModel) {
  var WordSearchModel;
  return WordSearchModel = (function() {
    WordSearchModel.prototype._cache = [];

    function WordSearchModel() {}

    WordSearchModel.prototype.entityType = function() {
      return 'WordSearchModel';
    };

    WordSearchModel.prototype.get = function(id) {};

    WordSearchModel.prototype.create = function() {};

    WordSearchModel.prototype.remove = function(id) {};

    WordSearchModel.prototype.removeMany = function(ids) {};

    WordSearchModel.prototype.update = function(data) {};

    WordSearchModel.prototype.list = function(text) {
      var _this = this;
      return $.Deferred(function(defer) {
        return $.post('search', {
          text: text
        }, function() {}, 'json').done(function(data) {
          var attrs, _i, _len;
          _this._cache = [];
          for (_i = 0, _len = data.length; _i < _len; _i++) {
            attrs = data[_i];
            _this._cache.push(new WordModel(attrs));
          }
          return defer.resolve(_this._cache);
        }).fail(function(xhr) {
          return defer.reject(xhr);
        });
      });
    };

    WordSearchModel.prototype.cache = function(attrs) {
      if (attrs) {
        return _(this._cache).findWhere(attrs);
      } else {
        return this._cache;
      }
    };

    return WordSearchModel;

  })();
});
